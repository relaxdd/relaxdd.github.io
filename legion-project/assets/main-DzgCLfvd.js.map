{"version":3,"file":"main-DzgCLfvd.js","sources":["../../src/assets/js/modules/toggle-sidebar-nav-links.js","../../src/assets/js/shared/helpers.js","../../src/assets/js/modules/init-certificate-modal.js","../../src/assets/js/shared/class/presentation-mode.js","../../src/assets/js/modules/prepare-presentation-mode.js","../../src/assets/js/modules/scroll-fixed-sidebar-at-edges.js","../../src/assets/js/shared/class/prefer-scheme.js","../../src/assets/js/modules/toggle-prefer-site-theme.js","../../src/assets/js/modules/scroll-to-top-on-button-click.js","../../src/assets/js/modules/init-order-callback-form.js","../../src/assets/js/shared/class/vertical-trim-cap-height-fix.js","../../src/assets/js/shared/defines.js","../../src/assets/js/modules/init-mobile-sidebar-toggle.js","../../src/assets/js/modules/hide-version-at-bottom-scroll.js","../../src/assets/js/main.js"],"sourcesContent":["function toggleSidebarNavLinks() {\r\n  const desktopNavLinks = document.querySelectorAll('.sidebar_nav__list a');\r\n  const mobileNavLinks = document.querySelectorAll('.page_sidebar_mobile__nav__list a');\r\n\r\n  function mainAction(navLinks) {\r\n    const pathname = window.location.pathname;\r\n\r\n    const current = [...navLinks].find((anchor) => {\r\n      const href = anchor.getAttribute('href');\r\n      return href !== '#' && new URL(anchor.href).pathname === pathname && href === pathname;\r\n    });\r\n\r\n    if (current) {\r\n      for (const anchor of navLinks) {\r\n        anchor.removeAttribute('aria-current');\r\n      }\r\n\r\n      current.setAttribute('aria-current', 'page');\r\n    }\r\n  }\r\n\r\n  if (desktopNavLinks.length) {\r\n    mainAction(desktopNavLinks);\r\n  }\r\n\r\n  if (mobileNavLinks.length) {\r\n    mainAction(mobileNavLinks);\r\n  }\r\n}\r\n\r\nexport default toggleSidebarNavLinks;","/**\r\n * @param {ScrollToOptions & {\r\n *   interval?: number,\r\n *   timeout?: number,\r\n *   inaccuracy?: number,\r\n * }} options\r\n * @returns {Promise<void>}\r\n */\r\nexport function scrollToAsync(options = {}) {\r\n  return new Promise((resolve) => {\r\n    options = {\r\n      top: 0,\r\n      left: 0,\r\n      interval: 50,\r\n      timeout: 3000,\r\n      inaccuracy: 2,\r\n      behavior: 'smooth',\r\n      ...options,\r\n    };\r\n\r\n    if (window.scrollY === options.top) {\r\n      return resolve(); // уже на месте\r\n    }\r\n\r\n    let done = false;\r\n    let lastY = window.scrollY;\r\n\r\n    // Запускаем скролл\r\n    const { top, left, behavior } = options;\r\n    window.scrollTo({ top, left, behavior });\r\n\r\n    // Страховочный таймер\r\n    const timer = setTimeout(() => {\r\n      if (!done) {\r\n        done = true;\r\n        clearInterval(checker);\r\n        resolve();\r\n      }\r\n    }, options.timeout);\r\n\r\n    // Проверка каждые interval мс\r\n    const checker = setInterval(() => {\r\n      const currentY = window.scrollY;\r\n\r\n      // условие: достигли почти нужного места\r\n      if (Math.abs(currentY - options.top) <= options.inaccuracy) {\r\n        if (!done) {\r\n          done = true;\r\n          clearTimeout(timer);\r\n          clearInterval(checker);\r\n          resolve();\r\n        }\r\n      }\r\n\r\n      // дополнительный вариант: если скролл больше не меняется\r\n      if (currentY === lastY) {\r\n        if (!done) {\r\n          done = true;\r\n          clearTimeout(timer);\r\n          clearInterval(checker);\r\n          resolve();\r\n        }\r\n      }\r\n\r\n      lastY = currentY;\r\n    }, options.interval);\r\n  });\r\n}\r\n\r\n/**\r\n * @param {string} selectorAll\r\n */\r\nexport function initInputPhoneMask(selectorAll = 'input[type=\"tel\"]') {\r\n  [].forEach.call(document.querySelectorAll(selectorAll), function (input) {\r\n    var keyCode;\r\n\r\n    function mask(event) {\r\n      event.keyCode && (keyCode = event.keyCode);\r\n      var pos = this.selectionStart;\r\n      if (pos < 3) event.preventDefault();\r\n      var matrix = '+7 (___)-___-__-__',\r\n        i = 0,\r\n        def = matrix.replace(/\\D/g, ''),\r\n        val = this.value.replace(/\\D/g, ''),\r\n        new_value = matrix.replace(/[_\\d]/g, function (a) {\r\n          return i < val.length ? val.charAt(i++) || def.charAt(i) : a;\r\n        });\r\n      i = new_value.indexOf('_');\r\n      if (i != -1) {\r\n        i < 5 && (i = 3);\r\n        new_value = new_value.slice(0, i);\r\n      }\r\n      var reg = matrix\r\n        .substr(0, this.value.length)\r\n        .replace(/_+/g, function (a) {\r\n          return '\\\\d{1,' + a.length + '}';\r\n        })\r\n        .replace(/[+()]/g, '\\\\$&');\r\n      reg = new RegExp('^' + reg + '$');\r\n      if (!reg.test(this.value) || this.value.length < 5 || (keyCode > 47 && keyCode < 58)) this.value = new_value;\r\n      if (event.type == 'blur' && this.value.length < 5) this.value = '';\r\n    }\r\n\r\n    input.addEventListener('input', mask, false);\r\n    input.addEventListener('focus', mask, false);\r\n    input.addEventListener('blur', mask, false);\r\n    input.addEventListener('keydown', mask, false);\r\n  });\r\n}\r\n\r\n/**\r\n * @param {HTMLElement} el\r\n * @returns {Element|null}\r\n */\r\nexport function findHiddenParentRecursive(el) {\r\n  if (!(el instanceof Element)) return null;\r\n\r\n  const style = window.getComputedStyle(el);\r\n\r\n  if (style.display === 'none' ||\r\n    style.visibility === 'hidden') {\r\n    return el;\r\n  }\r\n\r\n  return findHiddenParentRecursive(el?.parentElement);\r\n}\r\n\r\n/**\r\n * @param {string} namespace\r\n * @returns {(event: string) => void}\r\n */\r\nexport function factoryTriggerEvent(namespace) {\r\n  return function (event) {\r\n    document.dispatchEvent(new CustomEvent(`awenn2015/${namespace}/${event}`));\r\n  };\r\n}\r\n\r\n/**\r\n * @param {string} namespace\r\n * @param {string} event\r\n * @returns {string}\r\n */\r\nexport function joinEventName(namespace, event) {\r\n  return `awenn2015/${namespace}/${event}`;\r\n}\r\n","import { factoryTriggerEvent } from '/src/assets/js/shared/helpers.js';\r\n\r\nfunction initCertificateModal() {\r\n  const html = document.querySelector('html');\r\n  const type = window.innerWidth >= 992 ? 'desktop' : 'mobile';\r\n  const modal = document.querySelector(`.certificate_modal[data-type=\"${type}\"]`);\r\n  const close = modal?.querySelector('.certificate_modal__close');\r\n  const list = document.querySelectorAll('.page_certificates__card');\r\n  const triggerEvent = factoryTriggerEvent('certificate-modal');\r\n\r\n  if (!modal || !close) {\r\n    return;\r\n  }\r\n\r\n  let prevScroll = window.scrollY;\r\n\r\n  /*\r\n   * ==================================\r\n   */\r\n\r\n  function onCloseModalHandler() {\r\n    modal.removeAttribute('data-visible');\r\n    triggerEvent('hide');\r\n\r\n    html.classList.remove('certificate-modal-visible');\r\n    window.scrollTo({ top: prevScroll, behavior: 'smooth' });\r\n  }\r\n\r\n  function onOpenModalHandler(e) {\r\n    e.preventDefault();\r\n    prevScroll = window.scrollY;\r\n\r\n    modal.setAttribute('data-visible', 'true');\r\n    html.classList.add('certificate-modal-visible');\r\n\r\n    triggerEvent('show');\r\n  }\r\n\r\n  close.addEventListener('click', onCloseModalHandler);\r\n\r\n  for (const item of list) {\r\n    item.addEventListener('click', onOpenModalHandler);\r\n  }\r\n}\r\n\r\nexport default initCertificateModal;","class PresentationMode {\r\n  #processExit = false;\r\n  #globalInterval = null;\r\n  #processState = PresentationMode.#processStates.stop;\r\n  #localStorageKey = 'presentation-processing';\r\n  #localStorageVal = 'presentation-processing-value';\r\n\r\n  static #processStates = {\r\n    stop: 'stopped',\r\n    play: 'playing',\r\n    pause: 'paused',\r\n  };\r\n\r\n  /**\r\n   * =====================================\r\n   */\r\n\r\n  /**\r\n   * @param {{\r\n   *   pages?: string[],\r\n   *   waitingTime?: number,\r\n   *   scrollInterval?: number,\r\n   *   waitingTime?: number,\r\n   *   blockOverlay?: boolean,\r\n   *   deferredInitialize?: boolean,\r\n   * }} options\r\n   */\r\n  constructor(options) {\r\n    const initial = {\r\n      pages: [],\r\n      scrollSpeed: 25,\r\n      scrollInterval: 50,\r\n      waitingTime: 1000,\r\n      blockOverlay: true,\r\n      deferredInitialize: true,\r\n    };\r\n\r\n    this.options = { ...initial, ...options };\r\n\r\n    window.presentMode = {\r\n      play: this.#play.bind(this),\r\n      stop: this.#stop.bind(this),\r\n      pause: this.#pause.bind(this),\r\n      start: this.#start.bind(this),\r\n    };\r\n  }\r\n\r\n  /*\r\n   * ==================================\r\n   */\r\n\r\n  init() {\r\n    const isProcessing = localStorage.getItem(this.#localStorageKey) === 'true';\r\n\r\n    if (isProcessing || !this.options.deferredInitialize) {\r\n      this.#start().then();\r\n    }\r\n  }\r\n\r\n  /*\r\n   * ==================================\r\n   *         Private members\r\n   * ==================================\r\n   */\r\n\r\n  async #initScrolling() {\r\n    return new Promise((resolve) => {\r\n      const scrollSpeed = this.options.scrollSpeed;\r\n      const scrollInterval = this.options.scrollInterval;\r\n\r\n      this.#globalInterval = setInterval(() => {\r\n        if (!PresentationMode.isWindowFullyScrolled()) {\r\n          window.scrollTo({\r\n            behavior: 'smooth',\r\n            top: window.scrollY + scrollSpeed,\r\n          });\r\n        } else {\r\n          clearInterval(this.#globalInterval);\r\n          return resolve();\r\n        }\r\n      }, scrollInterval);\r\n    });\r\n  }\r\n\r\n  async #prepareScrolling() {\r\n    const waitingTime = this.options.waitingTime;\r\n\r\n    await PresentationMode.sleep(waitingTime);\r\n    if (this.#processExit) return;\r\n\r\n    await PresentationMode.windowScrollAsync(0, 0);\r\n  }\r\n\r\n  async #doingProcess() {\r\n    const waitingTime = this.options.waitingTime;\r\n\r\n    await this.#prepareScrolling();\r\n    if (this.#processExit) return;\r\n\r\n    await PresentationMode.sleep(waitingTime);\r\n    if (this.#processExit) return;\r\n\r\n    await this.#initScrolling();\r\n    if (this.#processExit) return;\r\n\r\n    await this.#prepareScrolling();\r\n    if (this.#processExit) return;\r\n\r\n    await PresentationMode.sleep(waitingTime);\r\n  }\r\n\r\n  async #start() {\r\n    if (this.#processState === PresentationMode.#processStates.play) {\r\n      console.log('[PresentMode]: Ошибка команды.');\r\n      return;\r\n    }\r\n\r\n    const pages = this.options.pages;\r\n    const blockOverlay = this.options.blockOverlay;\r\n\r\n    const pathname = PresentationMode.getPathname();\r\n    const pageIndex = pages.indexOf(pathname);\r\n    const isProcessing = localStorage.getItem(this.#localStorageKey) === 'true';\r\n\r\n    localStorage.setItem(this.#localStorageKey, 'true');\r\n\r\n    if (!isProcessing && pageIndex !== 0) {\r\n      window.location.replace(pages[0]);\r\n      return;\r\n    }\r\n\r\n    this.#processExit = false;\r\n    this.#processState = PresentationMode.#processStates.play;\r\n\r\n    if (blockOverlay) {\r\n      PresentationMode.insertBodyBlockOverlay();\r\n      PresentationMode.makeUserInterfaceHidden();\r\n    }\r\n\r\n    await this.#doingProcess();\r\n    if (this.#processExit) return;\r\n\r\n    await PresentationMode.toggleTheme();\r\n    if (this.#processExit) return;\r\n\r\n    await this.#doingProcess();\r\n    if (this.#processExit) return;\r\n\r\n    await PresentationMode.toggleTheme();\r\n    if (this.#processExit) return;\r\n\r\n    if (blockOverlay) {\r\n      PresentationMode.deleteBodyBlockOverlay();\r\n      PresentationMode.makeUserInterfaceVisible();\r\n    }\r\n\r\n    if (pageIndex !== pages.length - 1) {\r\n      window.location.replace(pages[pageIndex + 1]);\r\n    } else {\r\n      this.#clearLocalStorage();\r\n      console.log('Finish presentation mode...');\r\n\r\n      this.#processState = PresentationMode.#processStates.stop;\r\n    }\r\n  }\r\n\r\n  async #play() {\r\n    if (this.#processState === PresentationMode.#processStates.play) {\r\n      console.log('[PresentMode]: Ошибка команды.');\r\n      return;\r\n    }\r\n\r\n    console.log('[PresentMode]: Not Implemented.');\r\n\r\n    // const processValue = JSON.parse(localStorage.getItem(this.#localStorageVal) || '{}');\r\n    // Object.keys({}).length !== 0\r\n  }\r\n\r\n  async #reset() {\r\n\r\n  }\r\n\r\n  /*\r\n   * ==================================\r\n   */\r\n\r\n  #stop() {\r\n    this.#processExit = true;\r\n    this.#processState = PresentationMode.#processStates.stop;\r\n\r\n    clearInterval(this.#globalInterval);\r\n\r\n    if (this.options.blockOverlay) {\r\n      PresentationMode.deleteBodyBlockOverlay();\r\n      PresentationMode.makeUserInterfaceVisible();\r\n    }\r\n\r\n    this.#clearLocalStorage();\r\n  }\r\n\r\n  #pause() {\r\n    const scroll = window.scrollY;\r\n    const pathname = PresentationMode.getPathname();\r\n\r\n    this.#processState = PresentationMode.#processStates.pause;\r\n\r\n    clearInterval(this.#globalInterval);\r\n    localStorage.setItem('presentation-processing-value', JSON.stringify({ pathname, scroll }));\r\n  }\r\n\r\n  #clearLocalStorage() {\r\n    localStorage.removeItem(this.#localStorageKey);\r\n    localStorage.removeItem(this.#localStorageVal);\r\n  }\r\n\r\n  /*\r\n   * ==================================\r\n   *           Static members\r\n   * ==================================\r\n   */\r\n\r\n  /**\r\n   * @returns {boolean}\r\n   */\r\n  static isWindowFullyScrolled() {\r\n    return document.body.offsetHeight - window.innerHeight === window.scrollY;\r\n  }\r\n\r\n  /**\r\n   * @param {number} ms\r\n   * @returns {Promise<void>}\r\n   */\r\n  static sleep(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n  }\r\n\r\n  /**\r\n   * @returns {string}\r\n   */\r\n  static getPathname() {\r\n    return window.location.pathname.split('/').at(-1);\r\n  }\r\n\r\n  static windowScrollAsync(x, y) {\r\n    return new Promise(resolve => {\r\n      setTimeout(() => {\r\n        window.scrollTo(x, y);\r\n        return resolve();\r\n      }, 0);\r\n    });\r\n  }\r\n\r\n  static toggleTheme() {\r\n    return new Promise(resolve => {\r\n      setTimeout(() => {\r\n        const input = document.querySelector('#toggle-prefer-theme');\r\n        if (input) input.click();\r\n        return resolve();\r\n      }, 0);\r\n    });\r\n  }\r\n\r\n  static insertBodyBlockOverlay() {\r\n    const div = document.createElement('div');\r\n    div.id = 'presentation-overlay';\r\n\r\n    div.style.setProperty('position', 'fixed');\r\n    div.style.setProperty('inset', '0');\r\n    div.style.setProperty('width', '100vw');\r\n    div.style.setProperty('height', '100dvh');\r\n    div.style.setProperty('z-index', '10000');\r\n\r\n    document.body.appendChild(div);\r\n  }\r\n\r\n  static deleteBodyBlockOverlay() {\r\n    const div = document.querySelector('#presentation-overlay');\r\n    div.remove();\r\n  }\r\n\r\n  static makeUserInterfaceHidden() {\r\n    const html = document.querySelector('html');\r\n    const head = document.querySelector('head');\r\n\r\n    const style = document.createElement('style');\r\n\r\n    style.id = 'presentation-overlay-style';\r\n    style.textContent = 'html.presentation-mode {overflow:hidden;} html.presentation-mode, html.presentation-mode * {cursor: none;}';\r\n\r\n    head.append(style);\r\n    html.classList.add('presentation-mode');\r\n  }\r\n\r\n  static makeUserInterfaceVisible() {\r\n    const html = document.querySelector('html');\r\n    const style = document.querySelector('#presentation-overlay-style');\r\n\r\n    html.classList.remove('presentation-mode');\r\n    style.remove();\r\n  }\r\n}\r\n\r\n\r\nexport default PresentationMode;","import PresentationMode from '/src/assets/js/shared/class/presentation-mode.js';\r\n\r\nfunction preparePresentationMode() {\r\n  return new PresentationMode({\r\n    pages: [\r\n      'index.html',\r\n      'cases.html',\r\n      'cases-content.html',\r\n      'it-magazine.html',\r\n      'it-magazine-content.html',\r\n      'certificates.html',\r\n      'job.html',\r\n      'job-content.html',\r\n      'about-us.html',\r\n      // 'order.html',\r\n    ],\r\n    waitingTime: 1000,\r\n    deferredInitialize: true,\r\n  });\r\n}\r\n\r\nexport default preparePresentationMode;","function scrollFixedSidebarAtEdges() {\r\n  const content = document.querySelector('.page_content');\r\n  const sidebar = document.querySelector('.page_sidebar__content');\r\n  const sidebarInner = document.querySelector('.page_sidebar__inner');\r\n\r\n  /*\r\n   * ===================================\r\n   */\r\n\r\n  /**\r\n   * @param {HTMLElement} scrollableEl\r\n   * @param {number} offsetHeight\r\n   * @param {number} scrollHeight\r\n   * @returns {boolean}\r\n   */\r\n  function calculateIsSidebarScrolled(scrollableEl, offsetHeight, scrollHeight) {\r\n    return offsetHeight - scrollHeight === scrollableEl.scrollTop;\r\n  }\r\n\r\n  /**\r\n   * @returns {{offsetHeight: number, scrollHeight: number}}\r\n   */\r\n  function getSidebarHeightData() {\r\n    const sidebarContent = sidebarInner.querySelector('.page_sidebar__content');\r\n    const sidebarInnerStyle = window.getComputedStyle(sidebarInner);\r\n\r\n    const paddingTop = +sidebarInnerStyle.paddingTop.replace('px', '');\r\n    const paddingBottom = +sidebarInnerStyle.paddingBottom.replace('px', '');\r\n\r\n    const offsetHeight = sidebarContent.offsetHeight;\r\n    const scrollHeight = window.innerHeight - paddingTop - paddingBottom;\r\n\r\n    return {\r\n      offsetHeight,\r\n      scrollHeight,\r\n    };\r\n  }\r\n\r\n  /*\r\n   * ===================================\r\n   */\r\n\r\n  let prevScroll = 0;\r\n  window.addEventListener('scroll', function () {\r\n    const nextScroll = window.scrollY;\r\n\r\n    if (nextScroll > prevScroll) {\r\n      const contentBottom = content.getBoundingClientRect().bottom;\r\n      const sidebarBottom = sidebar.getBoundingClientRect().bottom;\r\n\r\n      if (contentBottom <= sidebarBottom) {\r\n        const { offsetHeight, scrollHeight } = getSidebarHeightData();\r\n        const scrollRatio = +(offsetHeight / scrollHeight).toFixed(3);\r\n        const scrollDifference = Math.abs(nextScroll - prevScroll);\r\n        const isSidebarFullScrolled = calculateIsSidebarScrolled(sidebarInner, offsetHeight, scrollHeight);\r\n\r\n        if (!isSidebarFullScrolled) {\r\n          sidebarInner.scrollTo({\r\n            // behavior: 'smooth',\r\n            top: sidebarInner.scrollTop + scrollDifference * scrollRatio,\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    if (nextScroll <= prevScroll) {\r\n      const contentY = Math.abs(content.getBoundingClientRect().y);\r\n      const sidebarY = Math.abs(sidebar.getBoundingClientRect().y);\r\n\r\n      if (contentY <= sidebarY || nextScroll <= 48) {\r\n        const { offsetHeight, scrollHeight } = getSidebarHeightData();\r\n        const scrollRatio = +(offsetHeight / scrollHeight).toFixed(3);\r\n        const scrollDifference = Math.abs(nextScroll - prevScroll);\r\n        const isSidebarInitialScroll = sidebarInner.scrollTop === 0;\r\n\r\n        if (!isSidebarInitialScroll) {\r\n          sidebarInner.scrollTo({\r\n            behavior: 'smooth',\r\n            top: sidebarInner.scrollTop - scrollDifference * scrollRatio,\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    prevScroll = nextScroll;\r\n  }, { passive: true });\r\n}\r\n\r\nexport default scrollFixedSidebarAtEdges;","class PreferScheme {\r\n  static dark = 'dark';\r\n  static light = 'light';\r\n  /** @type {['dark', 'light']} values */\r\n  static values = [PreferScheme.dark, PreferScheme.light];\r\n\r\n  static initial = {\r\n    lsKey: 'prefer-scheme',\r\n    dataKey: 'data-bs-key',\r\n  };\r\n\r\n  /*\r\n   * ===============================\r\n   */\r\n\r\n  constructor(obj) {\r\n    obj = { ...PreferScheme.initial, ...obj };\r\n\r\n    this.lsKey = obj.lsKey;\r\n    this.dataKey = obj.dataKey;\r\n  }\r\n\r\n  /*\r\n   * ===============================\r\n   */\r\n\r\n  static includes(theme) {\r\n    return PreferScheme.values.includes(theme);\r\n  }\r\n\r\n  static validate(theme) {\r\n    if (!PreferScheme.includes(theme)) {\r\n      throw new TypeError('Incorrect theme argument!');\r\n    }\r\n  }\r\n\r\n  static match(theme) {\r\n    PreferScheme.validate(theme);\r\n    return window.matchMedia(`(prefers-color-scheme: ${theme})`);\r\n  }\r\n\r\n  /*\r\n   * ===============================\r\n   */\r\n\r\n  /**\r\n   * @param {(theme: 'light'|'dark') => void} callback\r\n   */\r\n  onChange(callback) {\r\n    const matchQuery = PreferScheme.match(PreferScheme.dark);\r\n\r\n    matchQuery.addEventListener('change', (e) => {\r\n      if (!localStorage?.getItem(this.lsKey)) {\r\n        callback(e.matches ? PreferScheme.dark : PreferScheme.light);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @return {'light'|'dark'}\r\n   */\r\n  getPrefer() {\r\n    const match = window.matchMedia('(prefers-color-scheme: light)');\r\n    return PreferScheme.values[+match.matches];\r\n  }\r\n\r\n  /**\r\n   * @return {'light'|'dark'|null}\r\n   */\r\n  readTheme() {\r\n    const theme = localStorage?.getItem(this.lsKey);\r\n\r\n    if (!theme || !PreferScheme.includes(theme)) {\r\n      return null;\r\n    }\r\n\r\n    return theme;\r\n  }\r\n\r\n  /**\r\n   * @return {'light'|'dark'}\r\n   */\r\n  readThemeSafety() {\r\n    const theme = this.readTheme();\r\n\r\n    if (!theme || !PreferScheme.includes(theme)) {\r\n      return this.getPrefer();\r\n    }\r\n\r\n    return theme;\r\n  }\r\n\r\n  /**\r\n   * @param {'light'|'dark'|''} theme\r\n   */\r\n  writeTheme(theme) {\r\n    if (!theme || !PreferScheme.includes(theme)) {\r\n      this.render(this.getPrefer());\r\n      localStorage.removeItem(this.lsKey);\r\n    } else {\r\n      this.render(theme);\r\n      localStorage.setItem(this.lsKey, theme);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {'light'|'dark'|''} theme\r\n   */\r\n  render(theme) {\r\n    const html = document.querySelector('html');\r\n\r\n    if (!theme || !PreferScheme.includes(theme)) {\r\n      html.setAttribute(this.dataKey, this.getPrefer());\r\n    } else {\r\n      html.setAttribute(this.dataKey, theme);\r\n    }\r\n  }\r\n}\r\n\r\nexport default PreferScheme;\r\n","import PreferScheme from '/src/assets/js/shared/class/prefer-scheme.js';\r\n\r\n/**\r\n * @returns {() => void}\r\n */\r\nfunction togglePreferSiteTheme() {\r\n  const togglers = [\r\n    '#toggle-prefer-theme-main',\r\n    '#toggle-prefer-theme-mobile',\r\n  ];\r\n\r\n  const toggleScheme = document.querySelectorAll(togglers.join(', '));\r\n  const uiToggleBtn = document.querySelectorAll('.sidebar_top__theme__toggle');\r\n\r\n  const preferScheme = new PreferScheme({\r\n    lsKey: 'prefer-scheme',\r\n    dataKey: 'data-theme',\r\n  });\r\n\r\n  preferScheme.onChange(function (theme) {\r\n    preferScheme.render(theme);\r\n\r\n    for (const el of toggleScheme) {\r\n      el.checked = theme === PreferScheme.light;\r\n    }\r\n  });\r\n\r\n  for (const el of toggleScheme) {\r\n    el.addEventListener('change', function (e) {\r\n      const theme = PreferScheme.values[+e.target.checked];\r\n      preferScheme.writeTheme(theme);\r\n    });\r\n  }\r\n\r\n  for (const el of uiToggleBtn) {\r\n    el.addEventListener('click', function () {\r\n      for (const el of toggleScheme) {\r\n        el.click();\r\n      }\r\n    });\r\n  }\r\n\r\n  return function () {\r\n    const theme = preferScheme.readThemeSafety() ?? '';\r\n    preferScheme.render(theme);\r\n\r\n    for (const el of toggleScheme) {\r\n      el.checked = theme === PreferScheme.light;\r\n    }\r\n  };\r\n}\r\n\r\nexport default togglePreferSiteTheme;","function scrollToTopOnButtonClick() {\r\n  const button = document.querySelector('#js-scroll-to-top');\r\n  const sidebar = document.querySelector('.page_sidebar__inner');\r\n\r\n  button?.addEventListener('click', () => {\r\n    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n    sidebar?.scrollTo({ top: 0, behavior: 'smooth' });\r\n  });\r\n}\r\n\r\nexport default scrollToTopOnButtonClick;","import { initInputPhoneMask } from '/src/assets/js/shared/helpers.js';\r\n\r\nfunction initOrderCallbackForm() {\r\n  const form = document.querySelector('#order-callback-form');\r\n  if (!form) return;\r\n\r\n  const agree = form.querySelector('.section_block__form__agree');\r\n  const submit = form.querySelector('.section_block__form__submit');\r\n  const checkbox = form.querySelector('.section_block__form__checkbox');\r\n  const nameInput = form.querySelector('.section_block__form__input[name=\"name\"]');\r\n\r\n  /*\r\n   * ===============================\r\n   */\r\n\r\n  function onLoadedHandler() {\r\n    checkbox.checked = false;\r\n    submit.setAttribute('disabled', '');\r\n  }\r\n\r\n  function onInputChangeHandler() {\r\n    if (nameInput.value) {\r\n      nameInput.value = nameInput.value\r\n        .trim()\r\n        .split(' ')\r\n        .slice(0, 3)\r\n        .map(it => {\r\n          it = it.trim();\r\n          return it.charAt(0).toUpperCase() + it.slice(1);\r\n        })\r\n        .join(' ');\r\n    }\r\n  }\r\n\r\n  function onAgreeClickHandler() {\r\n    checkbox.checked = !checkbox.checked;\r\n  }\r\n\r\n  function onCheckboxChangeHandler() {\r\n    if (checkbox.checked) {\r\n      submit.removeAttribute('disabled');\r\n    } else {\r\n      submit.setAttribute('disabled', '');\r\n    }\r\n  }\r\n\r\n  /*\r\n   * ===============================\r\n   */\r\n\r\n  onLoadedHandler();\r\n  initInputPhoneMask('input[type=\"tel\"]');\r\n\r\n  agree?.addEventListener('click', onAgreeClickHandler);\r\n  nameInput?.addEventListener('change', onInputChangeHandler);\r\n  checkbox?.addEventListener('change', onCheckboxChangeHandler);\r\n\r\n}\r\n\r\nexport default initOrderCallbackForm;","import { findHiddenParentRecursive } from '/src/assets/js/shared/helpers.js';\r\n\r\n/**\r\n * TODO: Добавить перерисовку при window resize\r\n */\r\nclass VerticalTrimCapHeightFix {\r\n  /**\r\n   * @param {string} selector\r\n   * @param {Record<string, {capHeight: number, responsive?: Record<string, number>}>} fontMetrics\r\n   */\r\n  constructor(selector, fontMetrics = {}) {\r\n    this.selector = selector;\r\n    this.fontMetrics = fontMetrics;\r\n  }\r\n\r\n  /**\r\n   * Утилита: создаём ключ для поиска в конфиге\r\n   *\r\n   * @param {string} fontFamily\r\n   * @param {number} fontSize\r\n   * @param {string} lineHeight\r\n   * @returns {string}\r\n   */\r\n  makeKey(fontFamily, fontSize, lineHeight) {\r\n    return `${fontFamily}-${fontSize}-${lineHeight}`;\r\n  }\r\n\r\n  /**\r\n   * @param {HTMLElement} element\r\n   * @return {number}\r\n   */\r\n  getExactHeight(element) {\r\n    return +element.getBoundingClientRect().height.toFixed(2);\r\n  }\r\n\r\n  /**\r\n   * Вычисление разницы для одной строки\r\n   *\r\n   * @param {string} fontFamily\r\n   * @param {number} fontSize\r\n   * @param {string} lineHeight\r\n   * @param {number} capHeight\r\n   * @returns {number}\r\n   */\r\n  getDiffPerLine(fontFamily, fontSize, lineHeight, capHeight) {\r\n    const test = document.createElement('div');\r\n    test.style.fontFamily = fontFamily;\r\n    test.style.fontSize = fontSize + 'px';\r\n    test.style.lineHeight = lineHeight;\r\n    test.style.position = 'absolute';\r\n    test.style.visibility = 'hidden';\r\n    test.style.whiteSpace = 'nowrap';\r\n    test.textContent = 'TEST';\r\n    document.body.appendChild(test);\r\n\r\n    const browserHeight = this.getExactHeight(test);\r\n    document.body.removeChild(test);\r\n\r\n    return browserHeight - capHeight; // лишние пиксели на строку\r\n  }\r\n\r\n  /**\r\n   * @param {number} fontSize\r\n   * @param {number} lineHeightPx\r\n   * @returns {number}\r\n   */\r\n  lineHeightPxToPercent(fontSize, lineHeightPx) {\r\n    return Math.round(100 / (fontSize / lineHeightPx));\r\n  }\r\n\r\n  getCurrentBreakpoint() {\r\n    const width = window.innerWidth;\r\n\r\n    if (width >= 1920) {\r\n      return 'uw';\r\n    } else if (width < 1920 && width >= 1440) {\r\n      return 'xl';\r\n    } else if (width < 1440 && width >= 992) {\r\n      return 'lg';\r\n    } else if (width < 992 && width >= 768) {\r\n      return 'md';\r\n    } else if (width < 768 && width >= 576) {\r\n      return 'sm';\r\n    } else {\r\n      return 'xs';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Корректировка одного элемента\r\n   * @param {HTMLElement} el\r\n   */\r\n  fixHeight(el) {\r\n    if (!!findHiddenParentRecursive(el)) {\r\n      return;\r\n    }\r\n\r\n    const style = getComputedStyle(el);\r\n    const fontFamily = style.fontFamily.split(',')[0].replace(/['\"]/g, '').trim();\r\n    const fontSize = +parseFloat(style.fontSize).toFixed(2);\r\n    const lineHeight = parseFloat(style.lineHeight).toFixed(2) + 'px';\r\n\r\n    let key = this.makeKey(fontFamily, fontSize, lineHeight);\r\n\r\n    if (!this.fontMetrics[key]) {\r\n      const lineHeightPercent = this.lineHeightPxToPercent(fontSize, parseFloat(lineHeight));\r\n      key = this.makeKey(fontFamily, fontSize, lineHeightPercent + '%');\r\n    }\r\n\r\n    if (!this.fontMetrics[key]) {\r\n      console.warn('Нет метрики в конфиге для:', key);\r\n      return;\r\n    }\r\n\r\n    let capHeight = this.fontMetrics[key]?.capHeight;\r\n\r\n    if (window.innerWidth < 1920 && Object.hasOwn(this.fontMetrics[key], 'responsive')) {\r\n      const bp = this.getCurrentBreakpoint();\r\n\r\n      if (Object.hasOwn(this.fontMetrics[key]['responsive'], bp)) {\r\n        capHeight = this.fontMetrics[key]['responsive'][bp];\r\n      } else {\r\n        const order = ['xl', 'lg', 'md', 'sm', 'xs'];\r\n        const goal = order.slice(0, order.indexOf(bp));\r\n        const find = goal.reverse().find(bp => Object.hasOwn(this.fontMetrics[key]['responsive'], bp));\r\n\r\n        if (find) {\r\n          capHeight = this.fontMetrics[key]['responsive'][find];\r\n        } else {\r\n          capHeight = this.fontMetrics[key]?.capHeight;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (!capHeight) {\r\n      console.warn('Нет метрики в конфиге для:', key);\r\n      return;\r\n    }\r\n\r\n    const scrollHeight = this.getExactHeight(el);\r\n    const lines = Math.round(scrollHeight / parseFloat(lineHeight));\r\n    const diffPerLine = this.getDiffPerLine(fontFamily, fontSize, lineHeight, capHeight);\r\n\r\n    const fix = +(diffPerLine * lines).toFixed(1);\r\n    const css = this.parseDataCssAttribute(el);\r\n\r\n    el.style.height = (scrollHeight - fix) + 'px';\r\n    el.style.display = css?.display || 'flex';\r\n    el.style.alignItems = 'center';\r\n\r\n    el.setAttribute('data-cap-height', capHeight + 'px');\r\n  }\r\n\r\n  /**\r\n   * @param {HTMLElement} element\r\n   * @return {object}\r\n   */\r\n  parseDataCssAttribute(element) {\r\n    let value = element?.dataset?.css;\r\n    if (!value) return {};\r\n\r\n    if (value.endsWith(';')) {\r\n      value = value.slice(0, -1);\r\n    }\r\n\r\n    return value.trim().split(';').filter(Boolean).reduce((obj, it) => {\r\n      const [key, value] = it.trim().split(':');\r\n      if (key && value) obj[key.trim()] = value.trim();\r\n      return obj;\r\n    }, {});\r\n  }\r\n\r\n  debounce(func, delay) {\r\n    let debounceTimer;\r\n    return function () {\r\n      const context = this;\r\n      const args = arguments;\r\n      clearTimeout(debounceTimer);\r\n      debounceTimer = setTimeout(() => func.apply(context, args), delay);\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Авто применение для всех элементов с классом\r\n   */\r\n  apply() {\r\n    document.querySelectorAll(this.selector).forEach(this.fixHeight.bind(this));\r\n  }\r\n\r\n  initialize() {\r\n    this.apply();\r\n    // window.addEventListener('resize', this.apply.bind(this));\r\n  }\r\n}\r\n\r\nexport default VerticalTrimCapHeightFix;","export const eventNames = {\r\n  mobileNav: {\r\n    name: 'mobile-nav',\r\n    childs: {\r\n      show: 'show',\r\n      hide: 'hide',\r\n    },\r\n  },\r\n  certificateModal: {\r\n    name: 'certificate-modal',\r\n    childs: {\r\n      show: 'show',\r\n      hide: 'hide',\r\n    },\r\n  },\r\n};","import { factoryTriggerEvent, joinEventName, scrollToAsync } from '/src/assets/js/shared/helpers.js';\r\nimport { eventNames } from '/src/assets/js/shared/defines.js';\r\n\r\nfunction initMobileSidebarToggle() {\r\n  const html = document.querySelector('html');\r\n  const sidebar = document.querySelector('.page_sidebar_mobile');\r\n  const toggle = sidebar?.querySelector('#sidebar-mobile-toggle');\r\n  const topPanel = sidebar?.querySelector('.page_sidebar_mobile__top');\r\n  const triggerEvent = factoryTriggerEvent('mobile-nav');\r\n\r\n  if (!sidebar || !toggle) {\r\n    return;\r\n  }\r\n\r\n  const showCertificateModalEvent = joinEventName(\r\n    eventNames.certificateModal.name,\r\n    eventNames.certificateModal.childs.show,\r\n  );\r\n\r\n  const hideCertificateModalEvent = joinEventName(\r\n    eventNames.certificateModal.name,\r\n    eventNames.certificateModal.childs.hide,\r\n  );\r\n\r\n  /*\r\n   * ===================================\r\n   */\r\n\r\n  function showMobileNav() {\r\n    sidebar.setAttribute('data-active', 'true');\r\n    html.classList.add('mobile-sidebar-visible');\r\n    triggerEvent('show');\r\n  }\r\n\r\n  function hideMobileNav() {\r\n    sidebar.removeAttribute('data-active');\r\n    html.classList.remove('mobile-sidebar-visible');\r\n    triggerEvent('hide');\r\n  }\r\n\r\n  function onToggleClickHandler() {\r\n    const isActive = !!sidebar.dataset.active;\r\n\r\n    if (isActive) {\r\n      hideMobileNav();\r\n    } else {\r\n      if (!window.scrollY) {\r\n        showMobileNav();\r\n      } else {\r\n        scrollToAsync({ top: 0, behavior: 'instant', inaccuracy: 0.5 }).then(showMobileNav);\r\n      }\r\n    }\r\n  }\r\n\r\n  function showMobileNavTopPanel() {\r\n    topPanel.removeAttribute('data-hidden');\r\n  }\r\n\r\n  function hideMobileNavTopPanel() {\r\n    topPanel.setAttribute('data-hidden', 'true');\r\n  }\r\n\r\n  /*\r\n   * ===================================\r\n   */\r\n\r\n  toggle.addEventListener('click', onToggleClickHandler);\r\n\r\n  // TODO: Переписать на get.breakpoint.lg\r\n  if (window.innerWidth < 992) {\r\n    document.addEventListener(showCertificateModalEvent, hideMobileNavTopPanel);\r\n    document.addEventListener(hideCertificateModalEvent, showMobileNavTopPanel);\r\n  }\r\n}\r\n\r\nexport default initMobileSidebarToggle;","import { joinEventName } from '/src/assets/js/shared/helpers.js';\r\nimport { eventNames } from '/src/assets/js/shared/defines.js';\r\n\r\nfunction hideVersionAtBottomScroll() {\r\n  const el = document.querySelector('#dev-site-now-version');\r\n  if (!el) return;\r\n\r\n  const helpers = {\r\n    show: () => el.removeAttribute('data-hidden'),\r\n    hide: () => el.setAttribute('data-hidden', ''),\r\n  };\r\n\r\n  let prevScroll = window.scrollY;\r\n  window.addEventListener('scroll', () => {\r\n    const isScrollBottom = window.scrollY > prevScroll;\r\n    const isVersionHidden = el.hasAttribute('data-hidden');\r\n\r\n    if (isScrollBottom && !isVersionHidden) helpers.hide();\r\n    if (!isScrollBottom && isVersionHidden) helpers.show();\r\n\r\n    prevScroll = window.scrollY;\r\n  }, { passive: true });\r\n\r\n  /**\r\n   * TODO: Сделать join короче\r\n   */\r\n  document.addEventListener(joinEventName(eventNames.mobileNav.name, eventNames.mobileNav.childs.show), helpers.hide);\r\n  document.addEventListener(joinEventName(eventNames.mobileNav.name, eventNames.mobileNav.childs.hide), helpers.show);\r\n}\r\n\r\nexport default hideVersionAtBottomScroll;","import toggleSidebarNavLinks from '/src/assets/js/modules/toggle-sidebar-nav-links.js';\r\nimport initCertificateModal from '/src/assets/js/modules/init-certificate-modal.js';\r\nimport preparePresentationMode from '/src/assets/js/modules/prepare-presentation-mode.js';\r\nimport scrollFixedSidebarAtEdges from '/src/assets/js/modules/scroll-fixed-sidebar-at-edges.js';\r\nimport togglePreferSiteTheme from '/src/assets/js/modules/toggle-prefer-site-theme.js';\r\nimport scrollToTopOnButtonClick from '/src/assets/js/modules/scroll-to-top-on-button-click.js';\r\nimport initOrderCallbackForm from '/src/assets/js/modules/init-order-callback-form.js';\r\nimport VerticalTrimCapHeightFix from '/src/assets/js/shared/class/vertical-trim-cap-height-fix.js';\r\nimport initMobileSidebarToggle from '/src/assets/js/modules/init-mobile-sidebar-toggle.js';\r\nimport hideVersionAtBottomScroll from '/src/assets/js/modules/hide-version-at-bottom-scroll.js';\r\n\r\n// var arr = {\r\n//   xs: '>= 0 && < 576', // Сделал\r\n//   sm: '>= 576 && < 992{768}', // Нужно сделать tablet\r\n//   // md: '>= 768 && < 992', // Не будет\r\n//   lg: '>= 992 && < 1440', // Нужно сделать narrow desktop\r\n//   xl: '>= 1440 && < 1920', // Сделал (normal desktop)\r\n//   uw: '>= 1920', // Изначальная верстка (ultra wide desktop)\r\n// }\r\n\r\n// var bp_map3 = '0:xs => 576:sm => 992:lg => 1440:xl => 1920:uw';\r\n\r\n(function () {\r\n  const selector = '.vertical-trim-cap-height';\r\n  const fontMetrics = {\r\n    'Gilroy-14-158%': { capHeight: 20, responsive: { xs: 15 } },\r\n    'Gilroy-10-158%': { capHeight: 15 },\r\n    'Gilroy-14-150%': { capHeight: 16, responsive: { md: 18, xs: 18.5 } },\r\n    'Gilroy-10-175%': { capHeight: 16.43 },\r\n    'Gilroy-64-100%': { capHeight: 50 }, // 45\r\n    // 'Gilroy-140-100%': { capHeight: 105 },\r\n    // \"Gilroy-16-150%\": { capHeight: 22 },\r\n  };\r\n\r\n  const presentMode = preparePresentationMode();\r\n  const initTogglePreferTheme = togglePreferSiteTheme();\r\n  const verticalTrimFixer = new VerticalTrimCapHeightFix(selector, fontMetrics);\r\n\r\n  scrollFixedSidebarAtEdges();\r\n\r\n  document.addEventListener('DOMContentLoaded', function () {\r\n    presentMode.init();\r\n    initCertificateModal();\r\n    initTogglePreferTheme();\r\n    initOrderCallbackForm();\r\n    toggleSidebarNavLinks();\r\n    initMobileSidebarToggle();\r\n    scrollToTopOnButtonClick();\r\n    hideVersionAtBottomScroll();\r\n    verticalTrimFixer.initialize();\r\n  });\r\n})();"],"names":["toggleSidebarNavLinks","desktopNavLinks","mobileNavLinks","mainAction","navLinks","pathname","current","anchor","href","scrollToAsync","options","resolve","done","lastY","top","left","behavior","timer","checker","currentY","initInputPhoneMask","selectorAll","input","keyCode","mask","event","pos","matrix","i","def","val","new_value","a","reg","findHiddenParentRecursive","el","style","factoryTriggerEvent","namespace","joinEventName","initCertificateModal","html","type","modal","close","list","triggerEvent","prevScroll","onCloseModalHandler","onOpenModalHandler","e","item","PresentationMode","#processExit","#globalInterval","#processState","#processStates","#localStorageKey","#localStorageVal","initial","#play","#stop","#pause","#start","#initScrolling","scrollSpeed","scrollInterval","#prepareScrolling","waitingTime","#doingProcess","pages","blockOverlay","pageIndex","isProcessing","#clearLocalStorage","#reset","scroll","ms","x","y","div","head","preparePresentationMode","scrollFixedSidebarAtEdges","content","sidebar","sidebarInner","calculateIsSidebarScrolled","scrollableEl","offsetHeight","scrollHeight","getSidebarHeightData","sidebarContent","sidebarInnerStyle","paddingTop","paddingBottom","nextScroll","contentBottom","sidebarBottom","scrollRatio","scrollDifference","contentY","sidebarY","PreferScheme","obj","theme","callback","match","togglePreferSiteTheme","togglers","toggleScheme","uiToggleBtn","preferScheme","scrollToTopOnButtonClick","button","initOrderCallbackForm","form","agree","submit","checkbox","nameInput","onLoadedHandler","onInputChangeHandler","it","onAgreeClickHandler","onCheckboxChangeHandler","VerticalTrimCapHeightFix","selector","fontMetrics","fontFamily","fontSize","lineHeight","element","capHeight","test","browserHeight","lineHeightPx","width","key","lineHeightPercent","bp","order","find","lines","fix","css","value","func","delay","debounceTimer","context","args","eventNames","initMobileSidebarToggle","toggle","topPanel","showCertificateModalEvent","hideCertificateModalEvent","showMobileNav","hideMobileNav","onToggleClickHandler","showMobileNavTopPanel","hideMobileNavTopPanel","hideVersionAtBottomScroll","helpers","isScrollBottom","isVersionHidden","presentMode","initTogglePreferTheme","verticalTrimFixer"],"mappings":"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"}