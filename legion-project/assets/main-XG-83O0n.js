(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function t(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(o){if(o.ep)return;o.ep=!0;const n=t(o);fetch(o.href,n)}})();function y(){const e=document.querySelector("ul.sidebar_nav__list").querySelectorAll("li.sidebar_nav__item a");document.addEventListener("DOMContentLoaded",function(){const t=window.location.pathname,i=[...e].find(o=>{const n=o.getAttribute("href");return n!=="#"&&new URL(o.href).pathname===t&&n===t});if(i){for(const o of e)o.removeAttribute("aria-current");i.setAttribute("aria-current","page")}})}function v(){const s=document.querySelector("html"),e=document.querySelector(".certificate_modal"),t=e?.querySelector(".certificate_modal__close"),i=document.querySelectorAll(".page_certificates__card");if(!e||!t)return;let o=window.scrollY;function n(){e.removeAttribute("data-visible"),s.style.removeProperty("overflow"),window.scrollTo({top:o,behavior:"smooth"})}function r(l){l.preventDefault(),o=window.scrollY,e.setAttribute("data-visible","true"),s.style.setProperty("overflow","hidden")}t.addEventListener("click",n);for(const l of i)l.addEventListener("click",r)}class c{#e=!1;#o=null;#i=c.#t.stop;#n="presentation-processing";#a="presentation-processing-value";static#t={stop:"stopped",play:"playing",pause:"paused"};constructor(e){const t={pages:[],scrollSpeed:25,scrollInterval:50,waitingTime:1e3,blockOverlay:!0,deferredInitialize:!0};this.options={...t,...e},window.presentMode={play:this.#u.bind(this),stop:this.#h.bind(this),pause:this.#m.bind(this),start:this.#l.bind(this)}}init(){(localStorage.getItem(this.#n)==="true"||!this.options.deferredInitialize)&&this.#l().then()}async#d(){return new Promise(e=>{const t=this.options.scrollSpeed,i=this.options.scrollInterval;this.#o=setInterval(()=>{if(!c.isWindowFullyScrolled())window.scrollTo({behavior:"smooth",top:window.scrollY+t});else return clearInterval(this.#o),e()},i)})}async#r(){const e=this.options.waitingTime;await c.sleep(e),!this.#e&&await c.windowScrollAsync(0,0)}async#s(){const e=this.options.waitingTime;await this.#r(),!this.#e&&(await c.sleep(e),!this.#e&&(await this.#d(),!this.#e&&(await this.#r(),!this.#e&&await c.sleep(e))))}async#l(){if(this.#i===c.#t.play){console.log("[PresentMode]: Ошибка команды.");return}const e=this.options.pages,t=this.options.blockOverlay,i=c.getPathname(),o=e.indexOf(i),n=localStorage.getItem(this.#n)==="true";if(localStorage.setItem(this.#n,"true"),!n&&o!==0){window.location.replace(e[0]);return}this.#e=!1,this.#i=c.#t.play,t&&(c.insertBodyBlockOverlay(),c.makeUserInterfaceHidden()),await this.#s(),!this.#e&&(await c.toggleTheme(),!this.#e&&(await this.#s(),!this.#e&&(await c.toggleTheme(),!this.#e&&(t&&(c.deleteBodyBlockOverlay(),c.makeUserInterfaceVisible()),o!==e.length-1?window.location.replace(e[o+1]):(this.#c(),console.log("Finish presentation mode..."),this.#i=c.#t.stop)))))}async#u(){if(this.#i===c.#t.play){console.log("[PresentMode]: Ошибка команды.");return}console.log("[PresentMode]: Not Implemented.")}async#p(){}#h(){this.#e=!0,this.#i=c.#t.stop,clearInterval(this.#o),this.options.blockOverlay&&(c.deleteBodyBlockOverlay(),c.makeUserInterfaceVisible()),this.#c()}#m(){const e=window.scrollY,t=c.getPathname();this.#i=c.#t.pause,clearInterval(this.#o),localStorage.setItem("presentation-processing-value",JSON.stringify({pathname:t,scroll:e}))}#c(){localStorage.removeItem(this.#n),localStorage.removeItem(this.#a)}static isWindowFullyScrolled(){return document.body.offsetHeight-window.innerHeight===window.scrollY}static sleep(e){return new Promise(t=>setTimeout(t,e))}static getPathname(){return window.location.pathname.split("/").at(-1)}static windowScrollAsync(e,t){return new Promise(i=>{setTimeout(()=>(window.scrollTo(e,t),i()),0)})}static toggleTheme(){return new Promise(e=>{setTimeout(()=>{const t=document.querySelector("#toggle-prefer-theme");return t&&t.click(),e()},0)})}static insertBodyBlockOverlay(){const e=document.createElement("div");e.id="presentation-overlay",e.style.setProperty("position","fixed"),e.style.setProperty("inset","0"),e.style.setProperty("width","100vw"),e.style.setProperty("height","100dvh"),e.style.setProperty("z-index","10000"),document.body.appendChild(e)}static deleteBodyBlockOverlay(){document.querySelector("#presentation-overlay").remove()}static makeUserInterfaceHidden(){const e=document.querySelector("html"),t=document.querySelector("head"),i=document.createElement("style");i.id="presentation-overlay-style",i.textContent="html.presentation-mode {overflow:hidden;} html.presentation-mode, html.presentation-mode * {cursor: none;}",t.append(i),e.classList.add("presentation-mode")}static makeUserInterfaceVisible(){const e=document.querySelector("html"),t=document.querySelector("#presentation-overlay-style");e.classList.remove("presentation-mode"),t.remove()}}function b(){return new c({pages:["index.html","cases.html","cases-content.html","it-magazine.html","it-magazine-content.html","certificates.html","job.html","job-content.html","about-us.html"],waitingTime:1e3,deferredInitialize:!0})}function w(){const s=document.querySelector(".page_content"),e=document.querySelector(".page_sidebar__content"),t=document.querySelector(".page_sidebar__inner");function i(r,l,h){return l-h===r.scrollTop}function o(){const r=t.querySelector(".page_sidebar__content"),l=window.getComputedStyle(t),h=+l.paddingTop.replace("px",""),a=+l.paddingBottom.replace("px",""),u=r.offsetHeight,m=window.innerHeight-h-a;return{offsetHeight:u,scrollHeight:m}}let n=0;window.addEventListener("scroll",function(r){const l=window.scrollY;if(l>n){const h=s.getBoundingClientRect().bottom,a=e.getBoundingClientRect().bottom;if(h<=a){const{offsetHeight:u,scrollHeight:m}=o(),p=+(u/m).toFixed(3),f=Math.abs(l-n);i(t,u,m)||t.scrollTo({top:t.scrollTop+f*p})}}if(l<=n){const h=Math.abs(s.getBoundingClientRect().y),a=Math.abs(e.getBoundingClientRect().y);if(h<=a||l<=48){const{offsetHeight:u,scrollHeight:m}=o(),p=+(u/m).toFixed(3),f=Math.abs(l-n);t.scrollTop===0||t.scrollTo({top:t.scrollTop-f*p})}}n=l})}class d{static dark="dark";static light="light";static values=[d.dark,d.light];static initial={lsKey:"prefer-scheme",dataKey:"data-bs-key"};constructor(e){e={...d.initial,...e},this.lsKey=e.lsKey,this.dataKey=e.dataKey}static includes(e){return d.values.includes(e)}static validate(e){if(!d.includes(e))throw new TypeError("Incorrect theme argument!")}static match(e){return d.validate(e),window.matchMedia(`(prefers-color-scheme: ${e})`)}onChange(e){d.match(d.dark).addEventListener("change",i=>{localStorage?.getItem(this.lsKey)||e(i.matches?d.dark:d.light)})}getPrefer(){const e=window.matchMedia("(prefers-color-scheme: light)");return d.values[+e.matches]}readTheme(){const e=localStorage?.getItem(this.lsKey);return!e||!d.includes(e)?null:e}readThemeSafety(){const e=this.readTheme();return!e||!d.includes(e)?this.getPrefer():e}writeTheme(e){!e||!d.includes(e)?(this.render(this.getPrefer()),localStorage.removeItem(this.lsKey)):(this.render(e),localStorage.setItem(this.lsKey,e))}render(e){const t=document.querySelector("html");!e||!d.includes(e)?t.setAttribute(this.dataKey,this.getPrefer()):t.setAttribute(this.dataKey,e)}}function S(){const s=document.querySelector("#toggle-prefer-theme"),e=document.querySelector(".sidebar_top__theme__toggle"),t=new d({lsKey:"prefer-scheme",dataKey:"data-theme"});return t.onChange(function(i){t.render(i),s.checked=i===d.light}),s?.addEventListener("change",function(i){const o=d.values[+i.target.checked];t.writeTheme(o)}),e?.addEventListener("click",function(){s.click()}),function(){const i=t.readThemeSafety()??"";t.render(i),s.checked=i===d.light}}function k(){const s=document.querySelector("#js-scroll-to-top"),e=document.querySelector(".page_sidebar__inner");s?.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"}),e?.scrollTo({top:0,behavior:"smooth"})})}function T(s,e=0,t={behavior:"smooth"},i=3e3,o=50){return new Promise(n=>{if(window.scrollY===s)return n();let r=!1,l=window.scrollY;window.scrollTo({top:s,left:e,...t});const h=setTimeout(()=>{r||(r=!0,clearInterval(a),n())},i),a=setInterval(()=>{const u=window.scrollY;Math.abs(u-s)<=2&&(r||(r=!0,clearTimeout(h),clearInterval(a),n())),u===l&&(r||(r=!0,clearTimeout(h),clearInterval(a),n())),l=u},o)})}function I(s='input[type="tel"]'){[].forEach.call(document.querySelectorAll(s),function(e){var t;function i(o){o.keyCode&&(t=o.keyCode);var n=this.selectionStart;n<3&&o.preventDefault();var r="+7 (___)-___-__-__",l=0,h=r.replace(/\D/g,""),a=this.value.replace(/\D/g,""),u=r.replace(/[_\d]/g,function(p){return l<a.length?a.charAt(l++)||h.charAt(l):p});l=u.indexOf("_"),l!=-1&&(l<5&&(l=3),u=u.slice(0,l));var m=r.substr(0,this.value.length).replace(/_+/g,function(p){return"\\d{1,"+p.length+"}"}).replace(/[+()]/g,"\\$&");m=new RegExp("^"+m+"$"),(!m.test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=u),o.type=="blur"&&this.value.length<5&&(this.value="")}e.addEventListener("input",i,!1),e.addEventListener("focus",i,!1),e.addEventListener("blur",i,!1),e.addEventListener("keydown",i,!1)})}function x(){const s=document.querySelector("#order-callback-form");if(!s)return;const e=s.querySelector(".section_block__form__agree"),t=s.querySelector(".section_block__form__submit"),i=s.querySelector(".section_block__form__checkbox"),o=s.querySelector('.section_block__form__input[name="name"]');function n(){i.checked=!1,t.setAttribute("disabled","")}function r(){o.value&&(o.value=o.value.trim().split(" ").slice(0,3).map(a=>(a=a.trim(),a.charAt(0).toUpperCase()+a.slice(1))).join(" "))}function l(){i.checked=!i.checked}function h(){i.checked?t.removeAttribute("disabled"):t.setAttribute("disabled","")}n(),I('input[type="tel"]'),e?.addEventListener("click",l),o?.addEventListener("change",r),i?.addEventListener("change",h)}class L{constructor(e,t={}){this.selector=e,this.fontMetrics=t}makeKey(e,t,i){return`${e}-${t}-${i}`}getExactHeight(e){return+e.getBoundingClientRect().height.toFixed(2)}getDiffPerLine(e,t,i,o){const n=document.createElement("div");n.style.fontFamily=e,n.style.fontSize=t+"px",n.style.lineHeight=i,n.style.position="absolute",n.style.visibility="hidden",n.style.whiteSpace="nowrap",n.textContent="TEST",document.body.appendChild(n);const r=this.getExactHeight(n);return document.body.removeChild(n),r-o}lineHeightPxToPercent(e,t){return Math.round(100/(e/t))}fixHeight(e){const t=getComputedStyle(e),i=t.fontFamily.split(",")[0].replace(/['"]/g,"").trim(),o=+parseFloat(t.fontSize).toFixed(2),n=parseFloat(t.lineHeight).toFixed(2)+"px";let r=this.makeKey(i,o,n);if(!this.fontMetrics[r]){const f=this.lineHeightPxToPercent(o,parseFloat(n));r=this.makeKey(i,o,f+"%")}if(!this.fontMetrics[r]){console.warn("Нет метрики в конфиге для:",r);return}const{capHeight:l}=this.fontMetrics[r],h=this.getDiffPerLine(i,o,n,l),a=this.getExactHeight(e),u=Math.round(a/parseFloat(n)),m=+(h*u).toFixed(1),p=this.parseDataCssAttribute(e);e.style.height=a-m+"px",e.style.display=p?.display||"flex",e.style.alignItems="center",e.setAttribute("data-cap-height",l+"px")}parseDataCssAttribute(e){let t=e?.dataset?.css;return t?(t.endsWith(";")&&(t=t.slice(0,-1)),t.trim().split(";").filter(Boolean).reduce((i,o)=>{const[n,r]=o.trim().split(":");return n&&r&&(i[n.trim()]=r.trim()),i},{})):{}}apply(){document.querySelectorAll(this.selector).forEach(this.fixHeight.bind(this))}}function H(){const s=document.querySelector("html"),e=document.querySelector(".page_sidebar_mobile"),t=e?.querySelector("#sidebar-mobile-toggle");if(!e||!t)return;function i(){!!e.dataset.active?(e.removeAttribute("data-active"),s.classList.remove("mobile-sidebar-visible")):T(0).then(()=>{e.setAttribute("data-active","true"),s.classList.add("mobile-sidebar-visible")})}t.addEventListener("click",i)}(function(){const s=".vertical-trim-cap-height",e={"Gilroy-14-158%":{capHeight:20}},t=b(),i=S(),o=new L(s,e);y(),w(),document.addEventListener("DOMContentLoaded",function(){t.init(),v(),i(),x(),H(),k(),o.apply()})})();
//# sourceMappingURL=main-XG-83O0n.js.map
