(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(i){if(i.ep)return;i.ep=!0;const n=t(i);fetch(i.href,n)}})();function T(){const s=document.querySelectorAll(".sidebar_nav__list a"),e=document.querySelectorAll(".page_sidebar_mobile__nav__list a");function t(o){const i=window.location.pathname,n=[...o].find(r=>{const l=r.getAttribute("href");return l!=="#"&&new URL(r.href).pathname===i&&l===i});if(n){for(const r of o)r.removeAttribute("aria-current");n.setAttribute("aria-current","page")}}s.length&&t(s),e.length&&t(e)}function x(s={}){return new Promise(e=>{if(s={top:0,left:0,interval:50,timeout:3e3,inaccuracy:2,behavior:"smooth",...s},window.scrollY===s.top)return e();let t=!1,o=window.scrollY;const{top:i,left:n,behavior:r}=s;window.scrollTo({top:i,left:n,behavior:r});const l=setTimeout(()=>{t||(t=!0,clearInterval(d),e())},s.timeout),d=setInterval(()=>{const c=window.scrollY;Math.abs(c-s.top)<=s.inaccuracy&&(t||(t=!0,clearTimeout(l),clearInterval(d),e())),c===o&&(t||(t=!0,clearTimeout(l),clearInterval(d),e())),o=c},s.interval)})}function E(s='input[type="tel"]'){[].forEach.call(document.querySelectorAll(s),function(e){var t;function o(i){i.keyCode&&(t=i.keyCode);var n=this.selectionStart;n<3&&i.preventDefault();var r="+7 (___)-___-__-__",l=0,d=r.replace(/\D/g,""),c=this.value.replace(/\D/g,""),h=r.replace(/[_\d]/g,function(m){return l<c.length?c.charAt(l++)||d.charAt(l):m});l=h.indexOf("_"),l!=-1&&(l<5&&(l=3),h=h.slice(0,l));var f=r.substr(0,this.value.length).replace(/_+/g,function(m){return"\\d{1,"+m.length+"}"}).replace(/[+()]/g,"\\$&");f=new RegExp("^"+f+"$"),(!f.test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=h),i.type=="blur"&&this.value.length<5&&(this.value="")}e.addEventListener("input",o,!1),e.addEventListener("focus",o,!1),e.addEventListener("blur",o,!1),e.addEventListener("keydown",o,!1)})}function b(s){if(!(s instanceof Element))return null;const e=window.getComputedStyle(s);return e.display==="none"||e.visibility==="hidden"?s:b(s?.parentElement)}function S(s){return function(e){document.dispatchEvent(new CustomEvent(`awenn2015/${s}/${e}`))}}function y(s,e){return`awenn2015/${s}/${e}`}function H(){const s=document.querySelector("html"),e=window.innerWidth>=992?"desktop":"mobile",t=document.querySelector(`.certificate_modal[data-type="${e}"]`),o=t?.querySelector(".certificate_modal__close"),i=document.querySelectorAll(".page_certificates__card"),n=S("certificate-modal");if(!t||!o)return;let r=window.scrollY;function l(){t.removeAttribute("data-visible"),n("hide"),s.classList.remove("certificate-modal-visible"),window.scrollTo({top:r,behavior:"smooth"})}function d(c){c.preventDefault(),r=window.scrollY,t.setAttribute("data-visible","true"),s.classList.add("certificate-modal-visible"),n("show")}o.addEventListener("click",l);for(const c of i)c.addEventListener("click",d)}class a{#e=!1;#o=null;#i=a.#t.stop;#n="presentation-processing";#a="presentation-processing-value";static#t={stop:"stopped",play:"playing",pause:"paused"};constructor(e){const t={pages:[],scrollSpeed:25,scrollInterval:50,waitingTime:1e3,blockOverlay:!0,deferredInitialize:!0};this.options={...t,...e},window.presentMode={play:this.#u.bind(this),stop:this.#h.bind(this),pause:this.#f.bind(this),start:this.#l.bind(this)}}init(){(localStorage.getItem(this.#n)==="true"||!this.options.deferredInitialize)&&this.#l().then()}async#d(){return new Promise(e=>{const t=this.options.scrollSpeed,o=this.options.scrollInterval;this.#o=setInterval(()=>{if(!a.isWindowFullyScrolled())window.scrollTo({behavior:"smooth",top:window.scrollY+t});else return clearInterval(this.#o),e()},o)})}async#r(){const e=this.options.waitingTime;await a.sleep(e),!this.#e&&await a.windowScrollAsync(0,0)}async#s(){const e=this.options.waitingTime;await this.#r(),!this.#e&&(await a.sleep(e),!this.#e&&(await this.#d(),!this.#e&&(await this.#r(),!this.#e&&await a.sleep(e))))}async#l(){if(this.#i===a.#t.play){console.log("[PresentMode]: Ошибка команды.");return}const e=this.options.pages,t=this.options.blockOverlay,o=a.getPathname(),i=e.indexOf(o),n=localStorage.getItem(this.#n)==="true";if(localStorage.setItem(this.#n,"true"),!n&&i!==0){window.location.replace(e[0]);return}this.#e=!1,this.#i=a.#t.play,t&&(a.insertBodyBlockOverlay(),a.makeUserInterfaceHidden()),await this.#s(),!this.#e&&(await a.toggleTheme(),!this.#e&&(await this.#s(),!this.#e&&(await a.toggleTheme(),!this.#e&&(t&&(a.deleteBodyBlockOverlay(),a.makeUserInterfaceVisible()),i!==e.length-1?window.location.replace(e[i+1]):(this.#c(),console.log("Finish presentation mode..."),this.#i=a.#t.stop)))))}async#u(){if(this.#i===a.#t.play){console.log("[PresentMode]: Ошибка команды.");return}console.log("[PresentMode]: Not Implemented.")}async#m(){}#h(){this.#e=!0,this.#i=a.#t.stop,clearInterval(this.#o),this.options.blockOverlay&&(a.deleteBodyBlockOverlay(),a.makeUserInterfaceVisible()),this.#c()}#f(){const e=window.scrollY,t=a.getPathname();this.#i=a.#t.pause,clearInterval(this.#o),localStorage.setItem("presentation-processing-value",JSON.stringify({pathname:t,scroll:e}))}#c(){localStorage.removeItem(this.#n),localStorage.removeItem(this.#a)}static isWindowFullyScrolled(){return document.body.offsetHeight-window.innerHeight===window.scrollY}static sleep(e){return new Promise(t=>setTimeout(t,e))}static getPathname(){return window.location.pathname.split("/").at(-1)}static windowScrollAsync(e,t){return new Promise(o=>{setTimeout(()=>(window.scrollTo(e,t),o()),0)})}static toggleTheme(){return new Promise(e=>{setTimeout(()=>{const t=document.querySelector("#toggle-prefer-theme");return t&&t.click(),e()},0)})}static insertBodyBlockOverlay(){const e=document.createElement("div");e.id="presentation-overlay",e.style.setProperty("position","fixed"),e.style.setProperty("inset","0"),e.style.setProperty("width","100vw"),e.style.setProperty("height","100dvh"),e.style.setProperty("z-index","10000"),document.body.appendChild(e)}static deleteBodyBlockOverlay(){document.querySelector("#presentation-overlay").remove()}static makeUserInterfaceHidden(){const e=document.querySelector("html"),t=document.querySelector("head"),o=document.createElement("style");o.id="presentation-overlay-style",o.textContent="html.presentation-mode {overflow:hidden;} html.presentation-mode, html.presentation-mode * {cursor: none;}",t.append(o),e.classList.add("presentation-mode")}static makeUserInterfaceVisible(){const e=document.querySelector("html"),t=document.querySelector("#presentation-overlay-style");e.classList.remove("presentation-mode"),t.remove()}}function I(){return new a({pages:["index.html","cases.html","cases-content.html","it-magazine.html","it-magazine-content.html","certificates.html","job.html","job-content.html","about-us.html"],waitingTime:1e3,deferredInitialize:!0})}function L(){const s=document.querySelector(".page_content"),e=document.querySelector(".page_sidebar__content"),t=document.querySelector(".page_sidebar__inner");function o(r,l,d){return l-d===r.scrollTop}function i(){const r=t.querySelector(".page_sidebar__content"),l=window.getComputedStyle(t),d=+l.paddingTop.replace("px",""),c=+l.paddingBottom.replace("px",""),h=r.offsetHeight,f=window.innerHeight-d-c;return{offsetHeight:h,scrollHeight:f}}let n=0;window.addEventListener("scroll",function(){const r=window.scrollY;if(r>n){const l=s.getBoundingClientRect().bottom,d=e.getBoundingClientRect().bottom;if(l<=d){const{offsetHeight:c,scrollHeight:h}=i(),f=+(c/h).toFixed(3),m=Math.abs(r-n);o(t,c,h)||t.scrollTo({top:t.scrollTop+m*f})}}if(r<=n){const l=Math.abs(s.getBoundingClientRect().y),d=Math.abs(e.getBoundingClientRect().y);if(l<=d||r<=48){const{offsetHeight:c,scrollHeight:h}=i(),f=+(c/h).toFixed(3),m=Math.abs(r-n);t.scrollTop===0||t.scrollTo({behavior:"smooth",top:t.scrollTop-m*f})}}n=r},{passive:!0})}class u{static dark="dark";static light="light";static values=[u.dark,u.light];static initial={lsKey:"prefer-scheme",dataKey:"data-bs-key"};constructor(e){e={...u.initial,...e},this.lsKey=e.lsKey,this.dataKey=e.dataKey}static includes(e){return u.values.includes(e)}static validate(e){if(!u.includes(e))throw new TypeError("Incorrect theme argument!")}static match(e){return u.validate(e),window.matchMedia(`(prefers-color-scheme: ${e})`)}onChange(e){u.match(u.dark).addEventListener("change",o=>{localStorage?.getItem(this.lsKey)||e(o.matches?u.dark:u.light)})}getPrefer(){const e=window.matchMedia("(prefers-color-scheme: light)");return u.values[+e.matches]}readTheme(){const e=localStorage?.getItem(this.lsKey);return!e||!u.includes(e)?null:e}readThemeSafety(){const e=this.readTheme();return!e||!u.includes(e)?this.getPrefer():e}writeTheme(e){!e||!u.includes(e)?(this.render(this.getPrefer()),localStorage.removeItem(this.lsKey)):(this.render(e),localStorage.setItem(this.lsKey,e))}render(e){const t=document.querySelector("html");!e||!u.includes(e)?t.setAttribute(this.dataKey,this.getPrefer()):t.setAttribute(this.dataKey,e)}}function A(){const s=["#toggle-prefer-theme-main","#toggle-prefer-theme-mobile"],e=document.querySelectorAll(s.join(", ")),t=document.querySelectorAll(".sidebar_top__theme__toggle"),o=new u({lsKey:"prefer-scheme",dataKey:"data-theme"});o.onChange(function(i){o.render(i);for(const n of e)n.checked=i===u.light});for(const i of e)i.addEventListener("change",function(n){const r=u.values[+n.target.checked];o.writeTheme(r)});for(const i of t)i.addEventListener("click",function(){for(const n of e)n.click()});return function(){const i=o.readThemeSafety()??"";o.render(i);for(const n of e)n.checked=i===u.light}}function C(){const s=document.querySelector("#js-scroll-to-top"),e=document.querySelector(".page_sidebar__inner");s?.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"}),e?.scrollTo({top:0,behavior:"smooth"})})}function _(){const s=document.querySelector("#order-callback-form");if(!s)return;const e=s.querySelector(".section_block__form__agree"),t=s.querySelector(".section_block__form__submit"),o=s.querySelector(".section_block__form__checkbox"),i=s.querySelector('.section_block__form__input[name="name"]');function n(){o.checked=!1,t.setAttribute("disabled","")}function r(){i.value&&(i.value=i.value.trim().split(" ").slice(0,3).map(c=>(c=c.trim(),c.charAt(0).toUpperCase()+c.slice(1))).join(" "))}function l(){o.checked=!o.checked}function d(){o.checked?t.removeAttribute("disabled"):t.setAttribute("disabled","")}n(),E('input[type="tel"]'),e?.addEventListener("click",l),i?.addEventListener("change",r),o?.addEventListener("change",d)}class q{constructor(e,t={}){this.selector=e,this.fontMetrics=t}makeKey(e,t,o){return`${e}-${t}-${o}`}getExactHeight(e){return+e.getBoundingClientRect().height.toFixed(2)}getDiffPerLine(e,t,o,i){const n=document.createElement("div");n.style.fontFamily=e,n.style.fontSize=t+"px",n.style.lineHeight=o,n.style.position="absolute",n.style.visibility="hidden",n.style.whiteSpace="nowrap",n.textContent="TEST",document.body.appendChild(n);const r=this.getExactHeight(n);return document.body.removeChild(n),r-i}lineHeightPxToPercent(e,t){return Math.round(100/(e/t))}getCurrentBreakpoint(){const e=window.innerWidth;return e>=1920?"uw":e<1920&&e>=1440?"xl":e<1440&&e>=992?"lg":e<992&&e>=768?"md":e<768&&e>=576?"sm":"xs"}fixHeight(e){if(b(e))return;const t=getComputedStyle(e),o=t.fontFamily.split(",")[0].replace(/['"]/g,"").trim(),i=+parseFloat(t.fontSize).toFixed(2),n=parseFloat(t.lineHeight).toFixed(2)+"px";let r=this.makeKey(o,i,n);if(!this.fontMetrics[r]){const g=this.lineHeightPxToPercent(i,parseFloat(n));r=this.makeKey(o,i,g+"%")}if(!this.fontMetrics[r]){console.warn("Нет метрики в конфиге для:",r);return}let l=this.fontMetrics[r]?.capHeight;if(window.innerWidth<1920&&Object.hasOwn(this.fontMetrics[r],"responsive")){const g=this.getCurrentBreakpoint();if(Object.hasOwn(this.fontMetrics[r].responsive,g))l=this.fontMetrics[r].responsive[g];else{const v=["xl","lg","md","sm","xs"],w=v.slice(0,v.indexOf(g)).reverse().find(k=>Object.hasOwn(this.fontMetrics[r].responsive,k));w?l=this.fontMetrics[r].responsive[w]:l=this.fontMetrics[r]?.capHeight}}if(!l){console.warn("Нет метрики в конфиге для:",r);return}const d=this.getExactHeight(e),c=Math.round(d/parseFloat(n)),f=+(this.getDiffPerLine(o,i,n,l)*c).toFixed(1),m=this.parseDataCssAttribute(e);e.style.height=d-f+"px",e.style.display=m?.display||"flex",e.style.alignItems="center",e.setAttribute("data-cap-height",l+"px")}parseDataCssAttribute(e){let t=e?.dataset?.css;return t?(t.endsWith(";")&&(t=t.slice(0,-1)),t.trim().split(";").filter(Boolean).reduce((o,i)=>{const[n,r]=i.trim().split(":");return n&&r&&(o[n.trim()]=r.trim()),o},{})):{}}debounce(e,t){let o;return function(){const i=this,n=arguments;clearTimeout(o),o=setTimeout(()=>e.apply(i,n),t)}}apply(){document.querySelectorAll(this.selector).forEach(this.fixHeight.bind(this))}initialize(){this.apply()}}const p={mobileNav:{name:"mobile-nav",childs:{show:"show",hide:"hide"}},certificateModal:{name:"certificate-modal",childs:{show:"show",hide:"hide"}}};function O(){const s=document.querySelector("html"),e=document.querySelector(".page_sidebar_mobile"),t=e?.querySelector("#sidebar-mobile-toggle"),o=e?.querySelector(".page_sidebar_mobile__top"),i=S("mobile-nav");if(!e||!t)return;const n=y(p.certificateModal.name,p.certificateModal.childs.show),r=y(p.certificateModal.name,p.certificateModal.childs.hide);function l(){e.setAttribute("data-active","true"),s.classList.add("mobile-sidebar-visible"),i("show")}function d(){e.removeAttribute("data-active"),s.classList.remove("mobile-sidebar-visible"),i("hide")}function c(){!!e.dataset.active?d():window.scrollY?x({top:0,behavior:"instant",inaccuracy:.5}).then(l):l()}function h(){o.removeAttribute("data-hidden")}function f(){o.setAttribute("data-hidden","true")}t.addEventListener("click",c),window.innerWidth<992&&(document.addEventListener(n,f),document.addEventListener(r,h))}function B(){const s=document.querySelector("#dev-site-now-version");if(!s)return;const e={show:()=>s.removeAttribute("data-hidden"),hide:()=>s.setAttribute("data-hidden","")};let t=window.scrollY;window.addEventListener("scroll",()=>{const o=window.scrollY>t,i=s.hasAttribute("data-hidden");o&&!i&&e.hide(),!o&&i&&e.show(),t=window.scrollY},{passive:!0}),document.addEventListener(y(p.mobileNav.name,p.mobileNav.childs.show),e.hide),document.addEventListener(y(p.mobileNav.name,p.mobileNav.childs.hide),e.show)}(function(){const s=".vertical-trim-cap-height",e={"Gilroy-14-158%":{capHeight:20,responsive:{xs:15}},"Gilroy-10-158%":{capHeight:15},"Gilroy-14-150%":{capHeight:16,responsive:{md:18,xs:18.5}},"Gilroy-10-175%":{capHeight:16.43},"Gilroy-64-100%":{capHeight:50}},t=I(),o=A(),i=new q(s,e);L(),document.addEventListener("DOMContentLoaded",function(){t.init(),H(),o(),_(),T(),O(),C(),B(),i.initialize()})})();
//# sourceMappingURL=main-DzgCLfvd.js.map
