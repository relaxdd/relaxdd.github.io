(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}})();function b(){const r=document.querySelectorAll(".sidebar_nav__list a"),e=document.querySelectorAll(".page_sidebar_mobile__nav__list a");function t(i){const n=window.location.pathname,o=[...i].find(s=>{const l=s.getAttribute("href");return l!=="#"&&new URL(s.href).pathname===n&&l===n});if(o){for(const s of i)s.removeAttribute("aria-current");o.setAttribute("aria-current","page")}}r.length&&t(r),e.length&&t(e)}function S(){const r=document.querySelector("html"),e=document.querySelector(".certificate_modal"),t=e?.querySelector(".certificate_modal__close"),i=document.querySelectorAll(".page_certificates__card");if(!e||!t)return;let n=window.scrollY;function o(){e.removeAttribute("data-visible"),r.style.removeProperty("overflow"),window.scrollTo({top:n,behavior:"smooth"})}function s(l){l.preventDefault(),n=window.scrollY,e.setAttribute("data-visible","true"),r.style.setProperty("overflow","hidden")}t.addEventListener("click",o);for(const l of i)l.addEventListener("click",s)}class c{#e=!1;#n=null;#i=c.#t.stop;#o="presentation-processing";#a="presentation-processing-value";static#t={stop:"stopped",play:"playing",pause:"paused"};constructor(e){const t={pages:[],scrollSpeed:25,scrollInterval:50,waitingTime:1e3,blockOverlay:!0,deferredInitialize:!0};this.options={...t,...e},window.presentMode={play:this.#u.bind(this),stop:this.#h.bind(this),pause:this.#f.bind(this),start:this.#l.bind(this)}}init(){(localStorage.getItem(this.#o)==="true"||!this.options.deferredInitialize)&&this.#l().then()}async#d(){return new Promise(e=>{const t=this.options.scrollSpeed,i=this.options.scrollInterval;this.#n=setInterval(()=>{if(!c.isWindowFullyScrolled())window.scrollTo({behavior:"smooth",top:window.scrollY+t});else return clearInterval(this.#n),e()},i)})}async#r(){const e=this.options.waitingTime;await c.sleep(e),!this.#e&&await c.windowScrollAsync(0,0)}async#s(){const e=this.options.waitingTime;await this.#r(),!this.#e&&(await c.sleep(e),!this.#e&&(await this.#d(),!this.#e&&(await this.#r(),!this.#e&&await c.sleep(e))))}async#l(){if(this.#i===c.#t.play){console.log("[PresentMode]: Ошибка команды.");return}const e=this.options.pages,t=this.options.blockOverlay,i=c.getPathname(),n=e.indexOf(i),o=localStorage.getItem(this.#o)==="true";if(localStorage.setItem(this.#o,"true"),!o&&n!==0){window.location.replace(e[0]);return}this.#e=!1,this.#i=c.#t.play,t&&(c.insertBodyBlockOverlay(),c.makeUserInterfaceHidden()),await this.#s(),!this.#e&&(await c.toggleTheme(),!this.#e&&(await this.#s(),!this.#e&&(await c.toggleTheme(),!this.#e&&(t&&(c.deleteBodyBlockOverlay(),c.makeUserInterfaceVisible()),n!==e.length-1?window.location.replace(e[n+1]):(this.#c(),console.log("Finish presentation mode..."),this.#i=c.#t.stop)))))}async#u(){if(this.#i===c.#t.play){console.log("[PresentMode]: Ошибка команды.");return}console.log("[PresentMode]: Not Implemented.")}async#m(){}#h(){this.#e=!0,this.#i=c.#t.stop,clearInterval(this.#n),this.options.blockOverlay&&(c.deleteBodyBlockOverlay(),c.makeUserInterfaceVisible()),this.#c()}#f(){const e=window.scrollY,t=c.getPathname();this.#i=c.#t.pause,clearInterval(this.#n),localStorage.setItem("presentation-processing-value",JSON.stringify({pathname:t,scroll:e}))}#c(){localStorage.removeItem(this.#o),localStorage.removeItem(this.#a)}static isWindowFullyScrolled(){return document.body.offsetHeight-window.innerHeight===window.scrollY}static sleep(e){return new Promise(t=>setTimeout(t,e))}static getPathname(){return window.location.pathname.split("/").at(-1)}static windowScrollAsync(e,t){return new Promise(i=>{setTimeout(()=>(window.scrollTo(e,t),i()),0)})}static toggleTheme(){return new Promise(e=>{setTimeout(()=>{const t=document.querySelector("#toggle-prefer-theme");return t&&t.click(),e()},0)})}static insertBodyBlockOverlay(){const e=document.createElement("div");e.id="presentation-overlay",e.style.setProperty("position","fixed"),e.style.setProperty("inset","0"),e.style.setProperty("width","100vw"),e.style.setProperty("height","100dvh"),e.style.setProperty("z-index","10000"),document.body.appendChild(e)}static deleteBodyBlockOverlay(){document.querySelector("#presentation-overlay").remove()}static makeUserInterfaceHidden(){const e=document.querySelector("html"),t=document.querySelector("head"),i=document.createElement("style");i.id="presentation-overlay-style",i.textContent="html.presentation-mode {overflow:hidden;} html.presentation-mode, html.presentation-mode * {cursor: none;}",t.append(i),e.classList.add("presentation-mode")}static makeUserInterfaceVisible(){const e=document.querySelector("html"),t=document.querySelector("#presentation-overlay-style");e.classList.remove("presentation-mode"),t.remove()}}function k(){return new c({pages:["index.html","cases.html","cases-content.html","it-magazine.html","it-magazine-content.html","certificates.html","job.html","job-content.html","about-us.html"],waitingTime:1e3,deferredInitialize:!0})}function T(){const r=document.querySelector(".page_content"),e=document.querySelector(".page_sidebar__content"),t=document.querySelector(".page_sidebar__inner");function i(s,l,u){return l-u===s.scrollTop}function n(){const s=t.querySelector(".page_sidebar__content"),l=window.getComputedStyle(t),u=+l.paddingTop.replace("px",""),d=+l.paddingBottom.replace("px",""),h=s.offsetHeight,f=window.innerHeight-u-d;return{offsetHeight:h,scrollHeight:f}}let o=0;window.addEventListener("scroll",function(s){const l=window.scrollY;if(l>o){const u=r.getBoundingClientRect().bottom,d=e.getBoundingClientRect().bottom;if(u<=d){const{offsetHeight:h,scrollHeight:f}=n(),m=+(h/f).toFixed(3),p=Math.abs(l-o);i(t,h,f)||t.scrollTo({top:t.scrollTop+p*m})}}if(l<=o){const u=Math.abs(r.getBoundingClientRect().y),d=Math.abs(e.getBoundingClientRect().y);if(u<=d||l<=48){const{offsetHeight:h,scrollHeight:f}=n(),m=+(h/f).toFixed(3),p=Math.abs(l-o);t.scrollTop===0||t.scrollTo({top:t.scrollTop-p*m})}}o=l})}class a{static dark="dark";static light="light";static values=[a.dark,a.light];static initial={lsKey:"prefer-scheme",dataKey:"data-bs-key"};constructor(e){e={...a.initial,...e},this.lsKey=e.lsKey,this.dataKey=e.dataKey}static includes(e){return a.values.includes(e)}static validate(e){if(!a.includes(e))throw new TypeError("Incorrect theme argument!")}static match(e){return a.validate(e),window.matchMedia(`(prefers-color-scheme: ${e})`)}onChange(e){a.match(a.dark).addEventListener("change",i=>{localStorage?.getItem(this.lsKey)||e(i.matches?a.dark:a.light)})}getPrefer(){const e=window.matchMedia("(prefers-color-scheme: light)");return a.values[+e.matches]}readTheme(){const e=localStorage?.getItem(this.lsKey);return!e||!a.includes(e)?null:e}readThemeSafety(){const e=this.readTheme();return!e||!a.includes(e)?this.getPrefer():e}writeTheme(e){!e||!a.includes(e)?(this.render(this.getPrefer()),localStorage.removeItem(this.lsKey)):(this.render(e),localStorage.setItem(this.lsKey,e))}render(e){const t=document.querySelector("html");!e||!a.includes(e)?t.setAttribute(this.dataKey,this.getPrefer()):t.setAttribute(this.dataKey,e)}}function x(){const r=document.querySelector("#toggle-prefer-theme"),e=document.querySelector(".sidebar_top__theme__toggle"),t=new a({lsKey:"prefer-scheme",dataKey:"data-theme"});return t.onChange(function(i){t.render(i),r.checked=i===a.light}),r?.addEventListener("change",function(i){const n=a.values[+i.target.checked];t.writeTheme(n)}),e?.addEventListener("click",function(){r.click()}),function(){const i=t.readThemeSafety()??"";t.render(i),r.checked=i===a.light}}function H(){const r=document.querySelector("#js-scroll-to-top"),e=document.querySelector(".page_sidebar__inner");r?.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"}),e?.scrollTo({top:0,behavior:"smooth"})})}function I(r={}){return new Promise(e=>{if(r={top:0,left:0,interval:50,timeout:3e3,inaccuracy:2,behavior:"smooth",...r},window.scrollY===r.top)return e();let t=!1,i=window.scrollY;const{top:n,left:o,behavior:s}=r;window.scrollTo({top:n,left:o,behavior:s});const l=setTimeout(()=>{t||(t=!0,clearInterval(u),e())},r.timeout),u=setInterval(()=>{const d=window.scrollY;Math.abs(d-r.top)<=r.inaccuracy&&(t||(t=!0,clearTimeout(l),clearInterval(u),e())),d===i&&(t||(t=!0,clearTimeout(l),clearInterval(u),e())),i=d},r.interval)})}function E(r='input[type="tel"]'){[].forEach.call(document.querySelectorAll(r),function(e){var t;function i(n){n.keyCode&&(t=n.keyCode);var o=this.selectionStart;o<3&&n.preventDefault();var s="+7 (___)-___-__-__",l=0,u=s.replace(/\D/g,""),d=this.value.replace(/\D/g,""),h=s.replace(/[_\d]/g,function(m){return l<d.length?d.charAt(l++)||u.charAt(l):m});l=h.indexOf("_"),l!=-1&&(l<5&&(l=3),h=h.slice(0,l));var f=s.substr(0,this.value.length).replace(/_+/g,function(m){return"\\d{1,"+m.length+"}"}).replace(/[+()]/g,"\\$&");f=new RegExp("^"+f+"$"),(!f.test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=h),n.type=="blur"&&this.value.length<5&&(this.value="")}e.addEventListener("input",i,!1),e.addEventListener("focus",i,!1),e.addEventListener("blur",i,!1),e.addEventListener("keydown",i,!1)})}function v(r){if(!(r instanceof Element))return null;const e=window.getComputedStyle(r);return e.display==="none"||e.visibility==="hidden"?r:v(r?.parentElement)}function L(){const r=document.querySelector("#order-callback-form");if(!r)return;const e=r.querySelector(".section_block__form__agree"),t=r.querySelector(".section_block__form__submit"),i=r.querySelector(".section_block__form__checkbox"),n=r.querySelector('.section_block__form__input[name="name"]');function o(){i.checked=!1,t.setAttribute("disabled","")}function s(){n.value&&(n.value=n.value.trim().split(" ").slice(0,3).map(d=>(d=d.trim(),d.charAt(0).toUpperCase()+d.slice(1))).join(" "))}function l(){i.checked=!i.checked}function u(){i.checked?t.removeAttribute("disabled"):t.setAttribute("disabled","")}o(),E('input[type="tel"]'),e?.addEventListener("click",l),n?.addEventListener("change",s),i?.addEventListener("change",u)}class C{constructor(e,t={}){this.selector=e,this.fontMetrics=t}makeKey(e,t,i){return`${e}-${t}-${i}`}getExactHeight(e){return+e.getBoundingClientRect().height.toFixed(2)}getDiffPerLine(e,t,i,n){const o=document.createElement("div");o.style.fontFamily=e,o.style.fontSize=t+"px",o.style.lineHeight=i,o.style.position="absolute",o.style.visibility="hidden",o.style.whiteSpace="nowrap",o.textContent="TEST",document.body.appendChild(o);const s=this.getExactHeight(o);return document.body.removeChild(o),s-n}lineHeightPxToPercent(e,t){return Math.round(100/(e/t))}getCurrentBreakpoint(){const e=window.innerWidth;return e>=1920?"uw":e<1920&&e>=1440?"xl":e<1440&&e>=992?"lg":e<992&&e>=768?"md":e<768&&e>=576?"sm":"xs"}fixHeight(e){if(v(e))return;const t=getComputedStyle(e),i=t.fontFamily.split(",")[0].replace(/['"]/g,"").trim(),n=+parseFloat(t.fontSize).toFixed(2),o=parseFloat(t.lineHeight).toFixed(2)+"px";let s=this.makeKey(i,n,o);if(!this.fontMetrics[s]){const p=this.lineHeightPxToPercent(n,parseFloat(o));s=this.makeKey(i,n,p+"%")}if(!this.fontMetrics[s]){console.warn("Нет метрики в конфиге для:",s);return}let l=this.fontMetrics[s]?.capHeight;if(window.innerWidth<1920&&Object.hasOwn(this.fontMetrics[s],"responsive")){const p=this.getCurrentBreakpoint();if(Object.hasOwn(this.fontMetrics[s].responsive,p))l=this.fontMetrics[s].responsive[p];else{const g=["xl","lg","md","sm","xs"],y=g.slice(0,g.indexOf(p)).reverse().find(w=>Object.hasOwn(this.fontMetrics[s].responsive,w));y?l=this.fontMetrics[s].responsive[y]:l=this.fontMetrics[s]?.capHeight}}if(!l){console.warn("Нет метрики в конфиге для:",s);return}const u=this.getExactHeight(e),d=Math.round(u/parseFloat(o)),f=+(this.getDiffPerLine(i,n,o,l)*d).toFixed(1),m=this.parseDataCssAttribute(e);e.style.height=u-f+"px",e.style.display=m?.display||"flex",e.style.alignItems="center",e.setAttribute("data-cap-height",l+"px")}parseDataCssAttribute(e){let t=e?.dataset?.css;return t?(t.endsWith(";")&&(t=t.slice(0,-1)),t.trim().split(";").filter(Boolean).reduce((i,n)=>{const[o,s]=n.trim().split(":");return o&&s&&(i[o.trim()]=s.trim()),i},{})):{}}debounce(e,t){let i;return function(){const n=this,o=arguments;clearTimeout(i),i=setTimeout(()=>e.apply(n,o),t)}}apply(){document.querySelectorAll(this.selector).forEach(this.fixHeight.bind(this))}initialize(){this.apply()}}function A(){const r=document.querySelector("html"),e=document.querySelector(".page_sidebar_mobile"),t=e?.querySelector("#sidebar-mobile-toggle");if(!e||!t)return;function i(l){document.dispatchEvent(new CustomEvent("awenn2015/mobile-nav/"+l))}function n(){e.setAttribute("data-active","true"),r.classList.add("mobile-sidebar-visible"),i("show")}function o(){e.removeAttribute("data-active"),r.classList.remove("mobile-sidebar-visible"),i("hide")}function s(){!!e.dataset.active?o():window.scrollY?I({top:0,behavior:"instant",inaccuracy:.5}).then(n):n()}t.addEventListener("click",s)}function q(){const r=document.querySelector("#dev-site-now-version");if(!r)return;const e={show:()=>r.removeAttribute("data-hidden"),hide:()=>r.setAttribute("data-hidden","")};let t=window.scrollY;window.addEventListener("scroll",()=>{const i=window.scrollY>t,n=r.hasAttribute("data-hidden");i&&!n&&e.hide(),!i&&n&&e.show(),t=window.scrollY}),document.addEventListener("awenn2015/mobile-nav/show",e.hide),document.addEventListener("awenn2015/mobile-nav/hide",e.show)}(function(){const r=".vertical-trim-cap-height",e={"Gilroy-14-158%":{capHeight:20,responsive:{xs:15}},"Gilroy-10-158%":{capHeight:15},"Gilroy-14-150%":{capHeight:16,responsive:{xs:18.5}},"Gilroy-10-175%":{capHeight:16.43},"Gilroy-64-100%":{capHeight:50}},t=k(),i=x(),n=new C(r,e);T(),document.addEventListener("DOMContentLoaded",function(){t.init(),S(),i(),L(),b(),A(),H(),q(),n.initialize()})})();
//# sourceMappingURL=main-BsN-eXb8.js.map
